<!--
    Copyright (c) 2010 Juan Pablo Kaniefsky

    This file is part of Morpheus.

    Morpheus is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    any later version.

    Foobar is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Morpheus.  If not, see <http://www.gnu.org/licenses/>.

    Juan Pablo Kaniefsky (jpkaniefsky@gmail.com)
-->
<html>
  <head>
    <link id="morph_dir" rel="."/>
    <script type="text/javascript" src="initialize.js"></script>
    <script type="text/javascript" src="jquery.min.js"></script>
    <style>
      body {
        width:400px;
      }
      ul {
        list-style-type:square;
      }
    </style>
    <script>
      function cmt() {
        if ($("#cm").get(0).checked == false) {
            if ($("#indent").get(0).checked || $("#shift").get(0).checked)
              $("#spaces").get(0).checked = true;
            $("#indent").get(0).disabled = true;
            $("#shift").get(0).disabled = true;
        } else {
            $("#indent").get(0).disabled = false;
            $("#shift").get(0).disabled = false;
        }
      }
	chrome.extension.onRequest.addListener(function(request, sender, callback) {
		var data = $("form").serializeArray();
	      	var options = {
		        "effects": data[0].value == "on" ? true : false,
	    		"codemirror": data[1].value == "on" ? true : false,
	        	"tabMode": data[2].value,
        		"fontsize": data[3].value,
	        	"fontweight": data[4].value
		}	
		callback(options);
	});
    </script>
  </head>
  <body>
    <form>
    <ul>
      <li>
        <label for="effects">Effects</label>
        <input type="checkbox" id="effects" name="effects" checked="checked" />
      </li>
      <li>
        <label for="cm">Code Mirror (syntax higlighting / indenting)</label>
        <input type="checkbox" id="cm" name="codemirror" checked="checked" onclick="cmt();" />
      </li>
      <li>
        <label for="tm">Tab Mode</label>
        <ul>
          <li>
            <label for="None">None</label>
            <input type="radio" name="tm" value="default" id="none" />
          </li>
          <li>
            <label for="spaces">Spaces</label>
            <input type="radio" name="tm" value="spaces" id="spaces" />
          </li>
          <li>
            <label for="indent">Indent</label>
            <input type="radio" id="indent" name="tm" value="indent" checked="checked" />
          </li>
          <li>
            <label for="shift">Shift (indent / unindent)</label>
            <input type="radio" name="tm" value="shift" id="shift" />
          </li>
        </ul>
      </li>
      <li>
        <label for="fs">Font size:</label>
        <input type="text" id="fs" name="fontsize" value="20px" style="margin-left:5px; width:40px"; />
      </li>
      <li>
        <label for="fw">Font weight:</label>
        <input type="text" id="fw" name="fontweight" value="bold" style="margin-left:5px; width:40px"; />
      </li>
    </ul>
    </form>
  </body>
</html>
